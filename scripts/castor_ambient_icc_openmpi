#!/bin/bash -l
STATE="void"
STATE_AMBIENT="void"
STATE_TYPES="build"
STATE_DMRG="build"
# end of target states #
SITE=castor_ambient # the dashboard name (uname -n)
ROOT_DIR=/users/akosenko/maquis2012/src
COMPILER=intel
COMPILER_VERSION=2013
MPI_WRAPPER=openmpi
MPI_WRAPPER_VERSION=1.6.1-intel
BOOST=boost
BOOST_VERSION=1.51.0
CMAKE=cmake

export CXX=icpc
export CC=icc
export BOOST_ROOT=/apps/castor/boost_1_51_0/

module load ${COMPILER}/${COMPILER_VERSION}
module load ${MPI_WRAPPER}/${MPI_WRAPPER_VERSION}
module load ${CMAKE}

## common ##
#MAQUIS_COMMON_CMAKE_CXX_FLAGS="-O0 -g -std=c++0x -U__GXX_EXPERIMENTAL_CXX0X__ -DNDEBUG -I/users/akosenko/maquis2012/src/types/src"
#MAQUIS_COMMON_CMAKE_CXX_FLAGS_RELEASE="-O0 -g -std=c++0x -U__GXX_EXPERIMENTAL_CXX0X__ -DNDEBUG -I/users/akosenko/maquis2012/src/types/src"
MAQUIS_COMMON_CMAKE_CXX_FLAGS="-w -O3 -DNDEBUG -DBOOST_ASIO_DISABLE_STD_ATOMIC -std=c++0x -U__GXX_EXPERIMENTAL_CXX0X__  -L/apps/castor/plasma-2.4.6/lib -I/users/akosenko/maquis2012/src/types/src"
MAQUIS_COMMON_CMAKE_CXX_FLAGS_RELEASE="-w -O3 -DNDEBUG -DBOOST_ASIO_DISABLE_STD_ATOMIC -std=c++0x -U__GXX_EXPERIMENTAL_CXX0X__ -L/apps/castor/plasma-2.4.6/lib -I/users/akosenko/maquis2012/src/types/src"
MAQUIS_COMMON_CMAKE_C_COMPILER=icc
MAQUIS_COMMON_CMAKE_CXX_COMPILER=icpc
MAQUIS_COMMON_MPI_CXX_FOUND=FALSE
MAQUIS_COMMON_MPI_CXX_INCLUDE_PATH=
MAQUIS_COMMON_MPI_CXX_LINK_FLAGS=
MAQUIS_COMMON_MPI_CXX_LIBRARIES=
MAQUIS_COMMON_MPIEXEC=
MAQUIS_COMMON_MPIEXEC_NUMPROC_FLAG="-np"
MAQUIS_COMMON_MPIEXEC_MAX_NUMPROCS="1"
MAQUIS_COMMON_MPIEXEC_POSTFLAGS=""
MAQUIS_COMMON_CPU_FREQ="2.2e9"
## types ##
MAQUIS_TYPES_BUILD_AMBIENT=ON 
MAQUIS_TYPES_ENABLE_PARALLEL=ON
MAQUIS_TYPES_ENABLE_REGRESSION_FUNCTIONAL=ON
MAQUIS_TYPES_ENABLE_REGRESSION_PERFORMANCE=ON
MAQUIS_TYPES_BOOST_BINDINGS_INCLUDE=/project/h07/ALPS_INTEL12_CASTOR2/include
MAQUIS_TYPES_SCALAPACK_LIBRARY="-lmkl_scalapack_lp64 -lmkl_blacs_openmpi_lp64"
MAQUIS_TYPES_PLASMA_LIBRARY="-lplasma -lcoreblas -lcblas -llapacke -lquark"
## dmrg ##
MAQUIS_DMRG_CMAKE_CXX_FLAGS="-w"
MAQUIS_DMRG_DEFAULT_BLAS_LAPACK=manual
MAQUIS_DMRG_BLAS_LAPACK_MANUAL_LIBS="-lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lmkl_lapack95_lp64 -lpthread -lplasma -lcoreblas -lcblas -llapacke -lquark"
MAQUIS_DMRG_BLAS_LAPACK_MANUAL_LIBS_DIR=/apps/castor/intel/mkl/lib/intel64
MAQUIS_DMRG_BLAS_LAPACK_MANUAL_INCLUDES=/apps/castor/intel/mkl/include
MAQUIS_DMRG_ALPS_ROOT_DIR=/project/h07/ALPS_INTEL12_CASTOR2
MAQUIS_DMRG_BUILD_REGRESSION=OFF 
MAQUIS_DMRG_BUILD_AMBIENT=ON
MAQUIS_DMRG_USE_AMBIENT=ON

source common.sh 
execute $*
